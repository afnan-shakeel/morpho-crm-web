import{g as w,v as T,x as I}from"./chunk-XICAGMBR.js";import{$a as b,A as r,Db as x,Ea as h,Pa as v,Q as A,V as p,aa as g,ba as y,bb as f,cb as E,kb as s,lb as l,mb as d,o,qb as k,s as n,ub as M,wb as C,xb as S,za as m}from"./chunk-MI4VSIZJ.js";var P=["*"];function _(a,i){a&1&&d(0,"el-dialog-backdrop",1)}function j(a,i){a&1&&d(0,"el-dialog-backdrop",2)}var R=class a{modalId="dialog";preventAutoClose=!1;closeModal=new h;ngAfterViewInit(){}ngOnDestroy(){this.triggerElement&&(document.body.removeChild(this.triggerElement),this.triggerElement=null)}triggerElement=null;open(){this.triggerElement=document.createElement("button"),this.triggerElement.setAttribute("command","show-modal"),this.triggerElement.setAttribute("commandfor",this.modalId),document.body.appendChild(this.triggerElement),this.triggerElement.click()}close(){this.triggerElement&&(this.triggerElement.setAttribute("command","close"),this.triggerElement.click(),document.body.removeChild(this.triggerElement),this.triggerElement=null),this.closeModal.emit()}onDialogClick(i){}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=v({type:a,selectors:[["app-modal-medium"]],inputs:{modalId:"modalId",preventAutoClose:"preventAutoClose"},outputs:{closeModal:"closeModal"},ngContentSelectors:P,decls:14,vars:3,consts:[[1,"fixed","inset-0","size-auto","max-h-none","max-w-none","overflow-y-auto","bg-transparent","backdrop:bg-transparent",3,"id"],["id","modal-backdrop",1,"fixed","inset-0","bg-gray-500/75","transition-opacity","data-closed:opacity-0"],["id","modal-backdrop-x",1,"fixed","inset-0","bg-gray-500/75","transition-opacity","data-closed:opacity-0","data-enter:duration-300","data-enter:ease-out","data-leave:duration-200","data-leave:ease-in","dark:bg-gray-900/50"],["tabindex","0",1,"flex","min-h-full","items-end","justify-center","p-4","text-center","focus:outline-none","sm:items-center","sm:p-0"],[1,"relative","transform","overflow-hidden","rounded-lg","bg-white","px-4","pt-5","pb-4","text-left","shadow-xl","transition-all","data-closed:translate-y-4","data-closed:opacity-0","data-enter:duration-300","data-enter:ease-out","data-leave:duration-200","data-leave:ease-in","sm:my-8","sm:w-full","sm:max-w-[750px]","sm:p-6","data-closed:sm:translate-y-0","data-closed:sm:scale-95","dark:bg-gray-800","dark:outline","dark:-outline-offset-1","dark:outline-white/10"],[1,"absolute","top-0","right-0","hidden","pt-4","pr-4","sm:block"],["type","button",1,"rounded-md","bg-white","text-gray-400","hover:text-gray-500","focus:outline-2","focus:outline-offset-2","focus:outline-primary-500","dark:bg-gray-800","dark:hover:text-gray-300","dark:focus:outline-white",3,"click"],[1,"sr-only"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","data-slot","icon","aria-hidden","true",1,"size-6"],["d","M6 18 18 6M6 6l12 12","stroke-linecap","round","stroke-linejoin","round"],[1,""]],template:function(e,t){e&1&&(C(),s(0,"el-dialog")(1,"dialog",0),f(2,_,1,0,"el-dialog-backdrop",1)(3,j,1,0,"el-dialog-backdrop",2),s(4,"el-dialog-panel",3)(5,"div",4)(6,"div",5)(7,"button",6),M("click",function(){return t.close()}),s(8,"span",7),x(9,"Close"),l(),g(),s(10,"svg",8),d(11,"path",9),l()()(),y(),s(12,"div",10),S(13),l()()()()()),e&2&&(m(),k("id",t.modalId),b("aria-labelledby",t.modalId+"-title"),m(),E(t.preventAutoClose?2:3))},dependencies:[w],encapsulation:2})};var H=class a{api=p(T);errorHandler=p(I);getAccounts(i,e,t,c,D){let L={globalSearch:{value:i||""},filters:e||[],sort:t||{},pagination:{page:c||1,limit:D||10}};return this.api.post("accounts/search",L).pipe(r(u=>(this.errorHandler.handleError(u),o({}))),n(u=>u.data))}createAccount(i){return this.api.post("accounts/create",i).pipe(r(e=>(this.errorHandler.handleError(e),o(null))),n(e=>e.data))}updateAccount(i,e){return this.api.post(`accounts/${i}/update`,e).pipe(r(t=>(this.errorHandler.handleError(t),o(null))),n(t=>t.data))}getAccountById(i,e=!1){return this.api.get(`accounts/${i}?eagerFetch=${e}`).pipe(r(t=>(this.errorHandler.handleError(t),o({}))),n(t=>t.data))}getActivityLogs(i,e=!1){return this.api.get(`accounts-activities/account/${i}?eagerFetch=${e}`).pipe(r(t=>(this.errorHandler.handleError(t),o([]))),n(t=>t.data))}createActivityLog(i){return this.api.post("accounts-activities/create",i).pipe(r(e=>(this.errorHandler.handleError(e),o(null))),n(e=>e.data))}updateActivityLog(i,e){return this.api.put(`accounts-activities/${i}`,e).pipe(r(t=>(this.errorHandler.handleError(t),o(null))),n(t=>t.data))}searchAccountsForAutocomplete(i,e=10){let t={globalSearch:{value:i||""},filters:[],sort:{field:"companyName",direction:"asc"},pagination:{page:1,limit:e}};return this.api.post("accounts/search",t).pipe(r(c=>(this.errorHandler.handleError(c),o([]))),n(c=>c.data?.data||[]))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=A({token:a,factory:a.\u0275fac,providedIn:"root"})};export{R as a,H as b};
