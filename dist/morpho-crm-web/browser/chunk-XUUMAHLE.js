import{A as L,a as F,g as D}from"./chunk-YMK4QOIO.js";import{$ as d,Db as v,Ea as g,Eb as E,Fb as I,Nb as T,P as _,Pa as C,Rb as U,_ as p,_b as V,aa as y,bb as w,cb as S,eb as b,fb as k,gb as h,hb as a,ia as m,ib as s,jb as O,pb as f,tb as u,vb as c,ya as x,za as l}from"./chunk-MI4VSIZJ.js";var N=(i,e,t)=>({"py-0.5":i,"py-1":e,"py-1.5":t}),z=(i,e)=>e.id;function H(i,e){if(i&1){let t=f();a(0,"div",7),u("click",function(){let o=p(t).$implicit,r=c(2);return d(r.selectOption(o))}),v(1),s()}if(i&2){let t=e.$implicit;l(),I(" ",t.fullName," ")}}function B(i,e){if(i&1){let t=f();a(0,"div",4)(1,"input",5),u("change",function(o){p(t);let r=c();return d(r.onChangeEvent(o))})("input",function(o){p(t);let r=c();return d(r.updateSearch(o.target.value))}),s(),b(2,H,2,1,"div",6,z),s()}if(i&2){let t=c();l(),h("value",t.search()),l(),k(t.filteredOptions())}}var M=class i{size="md";options=[];placeholder="Select option";inputChange=new g;optionSelected=new g;valueField="id";labelField="fullName";isOpen=m(!1);search=m("");value=null;updateSearch(e){this.search.set(e),this.inputChange.emit(e)}filteredOptions=V(()=>{let e=this.search().toLowerCase();return this.options.filter(t=>String(t[this.labelField]).toLowerCase().includes(e))});onChange=e=>{};onTouched=()=>{};writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}toggleDropdown(){this.isOpen.update(e=>!e)}selectOption(e){this.value=e[this.valueField],this.onChange(this.value),this.onTouched(),this.optionSelected.emit(e),this.isOpen.set(!1)}get selectedLabel(){let e=this.options.find(t=>t[this.valueField]===this.value);return e?e[this.labelField]:this.placeholder}onChangeEvent(e){let t=e.target.value;this.inputChange.emit(t)}closeOnOutsideClick(e){e.target.closest(".dropdown-container")||this.isOpen.set(!1)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-user-selection-input"]],hostBindings:function(t,n){t&1&&u("click",function(r){return n.closeOnOutsideClick(r)},x)},inputs:{size:"size",options:"options",placeholder:"placeholder"},outputs:{inputChange:"inputChange",optionSelected:"optionSelected"},features:[T([{provide:L,useExisting:_(()=>i),multi:!0}])],decls:7,vars:7,consts:[[1,"relative","group","dropdown-container"],["type","button",1,"inline-flex","justify-between","w-full","px-4","rounded-md","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-primary-500","sm:text-sm/6","dark:bg-white/5","dark:text-white","dark:outline-white/10","dark:placeholder:text-gray-500","dark:focus:outline-primary-500",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","ml-2"],["fill-rule","evenodd","d","M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"absolute","right-0","mt-2","rounded-md","shadow-lg","bg-white","outline-1","-outline-offset-1","outline-gray-300","p-1","space-y-1","w-56","z-50"],["type","text","placeholder","Search...",1,"block","w-full","px-3","py-1","rounded-md","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-primary-500","sm:text-sm/6","dark:bg-white/5","dark:text-white","dark:outline-white/10","dark:placeholder:text-gray-500","dark:focus:outline-primary-500",3,"change","input","value"],[1,"block","px-3","py-1","text-base","text-gray-900","hover:bg-gray-100","cursor-pointer","rounded-md"],[1,"block","px-3","py-1","text-base","text-gray-900","hover:bg-gray-100","cursor-pointer","rounded-md",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"button",1),u("click",function(){return n.toggleDropdown()}),a(2,"span"),v(3),s(),y(),a(4,"svg",2),O(5,"path",3),s()(),w(6,B,4,1,"div",4),s()),t&2&&(l(),h("ngClass",U(3,N,n.size==="xs",n.size==="sm",n.size==="md")),l(2),E(n.selectedLabel),l(3),S(n.isOpen()?6:-1))},dependencies:[D,F],encapsulation:2})};export{M as a};
