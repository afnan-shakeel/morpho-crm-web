import{v as C,x as h}from"./chunk-YMK4QOIO.js";import{A as n,Q as d,V as l,o as r,s as o}from"./chunk-MI4VSIZJ.js";var u=class c{api=l(C);errorHandler=l(h);getContacts(e,t,a,s,i,y=!1){let b={eagerFetch:y,globalSearch:{value:e||""},filters:t||[],sort:a||{},pagination:{page:s||1,limit:i||10}};return this.api.post("contacts/search",b).pipe(n(p=>(this.errorHandler.handleError(p),r({}))),o(p=>p.data))}createContact(e){return this.api.post("contacts/create",e).pipe(n(t=>(this.errorHandler.handleError(t),r({}))),o(t=>t.data))}updateContact(e,t){return this.api.post(`contacts/${e}/update`,t).pipe(n(a=>(this.errorHandler.handleError(a),r({}))),o(a=>a.data))}getContactById(e,t=!1){return this.api.get(`contacts/${e}?eagerFetch=${t}`).pipe(n(a=>(this.errorHandler.handleError(a),r({}))),o(a=>a.data))}searchContactsForAutocomplete(e,t=10,a){let s={globalSearch:{value:e||""},filters:[],sort:{field:"fullName",direction:"asc"},pagination:{page:1,limit:t}};return a&&s.filters.push({field:"accountId",operator:"equals",value:a}),this.api.post("contacts/search",s).pipe(n(i=>(this.errorHandler.handleError(i),r([]))),o(i=>i.data?.data||[]))}getContactsByAccountId(e){let t={globalSearch:{value:""},filters:[{field:"accountId",operator:"equals",value:e}],sort:{field:"fullName",direction:"asc"},pagination:{page:1,limit:100}};return this.api.post("contacts/search",t).pipe(n(a=>(this.errorHandler.handleError(a),r([]))),o(a=>a.data?.data||[]))}static \u0275fac=function(t){return new(t||c)};static \u0275prov=d({token:c,factory:c.\u0275fac,providedIn:"root"})};export{u as a};
