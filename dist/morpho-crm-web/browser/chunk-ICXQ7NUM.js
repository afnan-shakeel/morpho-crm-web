import{g as H,q as G,r as q,t as U,v as Z,x as J}from"./chunk-XICAGMBR.js";import{$ as T,$a as v,A as N,Cb as C,Db as b,Ea as f,Fb as g,Ka as x,Pa as R,Q as h,Ra as z,V as I,_,aa as P,ab as M,bb as p,cb as m,eb as A,fb as L,gb as y,hb as c,ib as d,jb as E,la as j,o as D,oa as B,pb as w,s as $,tb as S,vb as s,za as o}from"./chunk-MI4VSIZJ.js";function Y(i,e){if(i&1&&(c(0,"span"),b(1),d()),i&2){let t=s().$implicit;o(),g(" (",t.badgeCount,")")}}function tt(i,e){if(i&1&&(c(0,"option",4),b(1),p(2,Y,2,1,"span"),d()),i&2){let t=e.$implicit,n=e.$index;y("value",n)("selected",t.active)("disabled",t.disabled),o(),g(" ",t.label," "),o(),m(t.badgeCount&&t.badgeCount>0?2:-1)}}function et(i,e){if(i&1){let t=w();c(0,"div",0)(1,"select",3),S("change",function(a){_(t);let r=s();return T(r.onMobileDropdownChange(a))}),A(2,tt,3,5,"option",4,M().trackByTabId,!0),d(),P(),c(4,"svg",5),E(5,"path",6),d()()}if(i&2){let t=s();o(),C(t.getMobileDropdownClasses()),v("aria-label",t.ariaLabel),o(),L(t.tabs)}}function it(i,e){if(i&1&&E(0,"i",13),i&2){let t=s(2).$implicit;C(t.icon)}}function nt(i,e){if(i&1&&(c(0,"span",12),b(1),d()),i&2){let t=s(2).$implicit;o(),g(" ",t.badgeCount," ")}}function at(i,e){if(i&1){let t=w();c(0,"a",10),S("click",function(){_(t);let a=s(),r=a.$implicit,l=a.$index,u=s(2);return T(u.onTabClick(r,l))}),p(1,it,1,2,"i",11),b(2),p(3,nt,2,1,"span",12),d()}if(i&2){let t=s().$implicit,n=s(2);C(n.getTabClasses(t)),y("routerLink",t.route)("title",t.label),v("aria-current",t.active?"page":null),o(),m(t.icon?1:-1),o(),g(" ",t.label," "),o(),m(t.badgeCount&&t.badgeCount>0?3:-1)}}function ot(i,e){if(i&1&&E(0,"i",13),i&2){let t=s(2).$implicit;C(t.icon)}}function rt(i,e){if(i&1&&(c(0,"span",12),b(1),d()),i&2){let t=s(2).$implicit;o(),g(" ",t.badgeCount," ")}}function st(i,e){if(i&1){let t=w();c(0,"button",14),S("click",function(){_(t);let a=s(),r=a.$implicit,l=a.$index,u=s(2);return T(u.onTabClick(r,l))}),p(1,ot,1,2,"i",11),b(2),p(3,rt,2,1,"span",12),d()}if(i&2){let t=s().$implicit,n=s(2);C(n.getTabClasses(t)),y("disabled",t.disabled)("title",t.label),v("aria-current",t.active?"page":null),o(),m(t.icon?1:-1),o(),g(" ",t.label," "),o(),m(t.badgeCount&&t.badgeCount>0?3:-1)}}function lt(i,e){if(i&1&&(p(0,at,4,8,"a",8),p(1,st,4,8,"button",9)),i&2){let t=e.$implicit,n=s(2);m(n.mode==="navigation"&&t.route&&!t.disabled?0:-1),o(),m(n.mode==="content"||t.disabled||!t.route?1:-1)}}function ct(i,e){if(i&1&&(c(0,"div",1)(1,"nav",7),A(2,lt,2,2,null,null,M().trackByTabId,!0),d()()),i&2){let t=s();o(),v("aria-label",t.ariaLabel),o(),L(t.tabs)}}function dt(i,e){i&1&&(c(0,"div",2),b(1," No tabs available "),d())}var k=class i{constructor(e){this.router=e}tabs=[];mode="navigation";activeTabId;showMobileDropdown=!0;containerClass="";tabClass="";activeTabClass="";ariaLabel="Tab navigation";tabChange=new f;tabSelected=new f;activeTab;selectedMobileTab;ngOnInit(){this.initializeActiveTab()}ngOnChanges(e){(e.tabs||e.activeTabId)&&this.initializeActiveTab()}initializeActiveTab(){!this.tabs||this.tabs.length===0||(this.activeTabId&&(this.activeTab=this.tabs.find(e=>e.id===this.activeTabId)),this.activeTab||(this.activeTab=this.tabs.find(e=>e.active)),this.activeTab||(this.activeTab=this.tabs.find(e=>!e.disabled)),this.selectedMobileTab=this.activeTab,this.updateTabActiveStates())}updateTabActiveStates(){this.tabs.forEach(e=>{e.active=e.id===this.activeTab?.id})}onTabClick(e,t){if(e.disabled)return;let n=this.activeTab;this.activeTab=e,this.selectedMobileTab=e,this.updateTabActiveStates();let a={tab:e,index:t,previousTab:n};this.tabChange.emit(a),this.tabSelected.emit(e),this.mode==="navigation"&&e.route&&this.router.navigate([e.route])}onMobileDropdownChange(e){let n=e.target.selectedIndex,a=this.tabs[n];a&&!a.disabled&&this.onTabClick(a,n)}getTabClasses(e){let t="rounded-md px-3 py-1.5 text-xs font-medium transition-colors duration-200",n="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",a="bg-primary-500/10 text-primary-700 dark:bg-primary-500/20 dark:text-primary-300",r="opacity-50 cursor-not-allowed",l=`${t} ${this.tabClass}`;return e.disabled?l+=` ${r}`:e.active?l+=` ${a} ${this.activeTabClass}`:l+=` ${n}`,l.trim()}getMobileDropdownClasses(){return"col-start-1 row-start-1 w-full appearance-none rounded-md bg-white py-2 pr-8 pl-3 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 dark:bg-gray-800/50 dark:text-gray-100 dark:outline-white/10 dark:*:bg-gray-800 dark:focus:outline-indigo-500"}trackByTabId(e,t){return t.id}static \u0275fac=function(t){return new(t||i)(x(G))};static \u0275cmp=R({type:i,selectors:[["app-tabs"]],inputs:{tabs:"tabs",mode:"mode",activeTabId:"activeTabId",showMobileDropdown:"showMobileDropdown",containerClass:"containerClass",tabClass:"tabClass",activeTabClass:"activeTabClass",ariaLabel:"ariaLabel"},outputs:{tabChange:"tabChange",tabSelected:"tabSelected"},features:[j],decls:4,vars:5,consts:[[1,"grid","grid-cols-1","sm:hidden"],[1,"hidden","sm:block"],[1,"text-center","py-4","text-gray-500","dark:text-gray-400"],[3,"change"],[3,"value","selected","disabled"],["viewBox","0 0 16 16","fill","currentColor","data-slot","icon","aria-hidden","true",1,"pointer-events-none","col-start-1","row-start-1","mr-2","size-5","self-center","justify-self-end","fill-gray-500","dark:fill-gray-400"],["d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd","fill-rule","evenodd"],[1,"flex","space-x-4"],[3,"routerLink","class","title"],["type","button",3,"class","disabled","title"],[3,"click","routerLink","title"],[1,"mr-2",3,"class"],[1,"ml-2","inline-flex","items-center","rounded-full","bg-gray-100","px-2.5","py-0.5","text-xs","font-medium","text-gray-800","dark:bg-gray-700","dark:text-gray-200"],[1,"mr-2"],["type","button",3,"click","disabled","title"]],template:function(t,n){t&1&&(c(0,"div"),p(1,et,6,3,"div",0),p(2,ct,4,1,"div",1),p(3,dt,2,0,"div",2),d()),t&2&&(C(n.containerClass),o(),m(n.showMobileDropdown&&n.tabs.length>0?1:-1),o(),m(n.tabs.length>0?2:-1),o(),m(n.tabs.length===0?3:-1))},dependencies:[H,U,q],styles:['.tab-transition[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.tab-focus[_ngcontent-%COMP%]:focus-visible{outline-offset:2px}.badge-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.mobile-dropdown[_ngcontent-%COMP%]{min-height:44px}.tab-loading[_ngcontent-%COMP%]{position:relative;overflow:hidden}.tab-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{left:-100%}to{left:100%}}@media (prefers-color-scheme: dark){.badge-pulse[_ngcontent-%COMP%]{filter:brightness(.9)}}']})};var K=class i{api=I(Z);errorHandler=I(J);getCountries(){return this.api.get("countries").pipe(N(e=>(this.errorHandler.handleError(e),D([]))),$(e=>e.data||[]))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})};var Q=class i{setupAutocomplete(e){let t=document.getElementById(e.elementId);if(!t)return console.warn(`Element with id '${e.elementId}' not found`),()=>{};let n=()=>{let r=t.querySelector("el-options")?.getElementsByTagName("el-option");if(r)for(let l=0;l<r.length;l++){let u=r[l],O=e.form.get(e.nameControl)?.value?.toLowerCase()||"";if((u.getAttribute(e.valueAttribute||"value")?.toLowerCase()||"").includes(O)){let X=u.getAttribute(e.idAttribute||"id");e.form.patchValue({[e.idControl]:X});break}}e.form.get(e.nameControl)?.value||e.form.patchValue({[e.idControl]:0})};return t.addEventListener("input",n),()=>t.removeEventListener("input",n)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})};var W=class i{constructor(e){this.el=e}targetForm;nameControl;idControl;optionValueAttribute="value";optionIdAttribute="id";optionSelected=new f;inputListener;clickListener;ngOnInit(){this.setupAutocomplete()}ngOnDestroy(){this.inputListener&&this.el.nativeElement.removeEventListener("input",this.inputListener),this.clickListener&&this.el.nativeElement.removeEventListener("click",this.clickListener)}setupAutocomplete(){this.inputListener=()=>{let n=this.el.nativeElement.querySelector("el-options")?.getElementsByTagName("el-option");if(n)for(let a=0;a<n.length;a++){let r=n[a],l=this.targetForm.get(this.nameControl)?.value?.toLowerCase()||"";if((r.getAttribute(this.optionValueAttribute)?.toLowerCase()||"").includes(l)){let V=r.getAttribute(this.optionIdAttribute);this.targetForm.patchValue({[this.idControl]:V});break}}this.targetForm.get(this.nameControl)?.value||this.targetForm.patchValue({[this.idControl]:0}),this.targetForm.get(this.nameControl)?.markAsTouched(),this.targetForm.get(this.idControl)?.markAsTouched()},this.clickListener=e=>{console.log("Click event detected in AutocompleteDirective");let n=e.target;for(;n&&n.tagName.toLowerCase()!=="el-option";)n=n.parentElement;if(console.log("Option found:",n),n){console.log("Option selected in AutocompleteDirective");let a=n.getAttribute(this.optionIdAttribute),r=n.getAttribute(this.optionValueAttribute);if(a&&r){console.log("Selected ID:",a),console.log("Selected Value:",r);let l=a;this.targetForm.patchValue({[this.nameControl]:r,[this.idControl]:l}),this.targetForm.get(this.nameControl)?.markAsTouched(),this.targetForm.get(this.idControl)?.markAsTouched(),console.log("Emitting optionSelected event from AutocompleteDirective"),this.optionSelected.emit({id:l,name:r,originalEvent:e})}}},this.el.nativeElement.addEventListener("input",this.inputListener),this.el.nativeElement.addEventListener("click",this.clickListener)}static \u0275fac=function(t){return new(t||i)(x(B))};static \u0275dir=z({type:i,selectors:[["","appAutocomplete",""]],inputs:{targetForm:"targetForm",nameControl:"nameControl",idControl:"idControl",optionValueAttribute:"optionValueAttribute",optionIdAttribute:"optionIdAttribute"},outputs:{optionSelected:"optionSelected"}})};export{k as a,K as b,W as c};
