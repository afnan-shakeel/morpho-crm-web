<div class="relative group dropdown-container">

    <!-- Button -->
    <button type="button" (click)="toggleDropdown()"
                [ngClass]="{
                    'py-0.5': size === 'xs',
                    'py-1': size === 'sm',
                    'py-1.5': size === 'md'
                }"
                class="inline-flex justify-between w-full px-4 rounded-md text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-primary-500 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-primary-500">
        <span>{{ selectedLabel }}</span>

        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd"
                d="M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                clip-rule="evenodd" />
        </svg>
    </button>

    <!-- Dropdown -->
    @if (isOpen()) {
    <div class="absolute right-0 mt-2 rounded-md shadow-lg bg-white outline-1 -outline-offset-1 outline-gray-300
     p-1 space-y-1 w-56 z-50">
        <!-- Search -->
        <input type="text" class="block w-full px-3 py-1 rounded-md text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-primary-500 sm:text-sm/6 dark:bg-white/5 dark:text-white dark:outline-white/10 dark:placeholder:text-gray-500 dark:focus:outline-primary-500" 
        placeholder="Search..." [value]="search()" (change)="onChangeEvent($event)"
            (input)="updateSearch($any($event.target).value)" />

        <!-- Options -->
        @for (opt of filteredOptions(); track opt['id']) {
            <div (click)="selectOption(opt)"
                class="block px-3 py-1 text-base text-gray-900 hover:bg-gray-100 cursor-pointer rounded-md">
                {{ opt['fullName'] }}
            </div>
        }
    </div>
    }
</div>